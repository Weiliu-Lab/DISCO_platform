<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dispersion-Inclusive Surface Chemistry Optimizer (DISCO)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #f3f6fc;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-sub: #666666;
            --accent-blue: #4361ee;
            --hover-bg: #eef2ff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        header {
            text-align: center;
            padding: 60px 20px 40px;
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            margin-bottom: 40px;
            position: relative;
        }
        .auth-bar {
            position: absolute;
            top: 16px;
            right: 20px;
            display: flex;
            gap: 10px;
            font-size: 0.9rem;
        }
        .auth-bar a {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 600;
        }
        .auth-bar span { color: var(--text-sub); }
        .logo-area h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(90deg, #4361ee, #7209b7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .logo-area span {
            font-size: 1.2rem;
            color: #555;
            font-weight: 600;
        }
        .description {
            margin-top: 30px;
            color: var(--text-sub);
            font-size: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        .doc-link {
            margin-top: 12px;
            font-size: 0.95rem;
        }
        .doc-link a {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 600;
        }
        .doc-link a:hover {
            text-decoration: underline;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            flex: 1;
        }
        .grid-wrapper {
            display: grid;
            gap: 25px;
            padding-bottom: 60px;
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }
        @media (min-width: 640px) {
            .grid-wrapper { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (min-width: 1024px) {
            .grid-wrapper { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        }
        .card {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 30px 25px;
            text-decoration: none;
            color: inherit;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
            border: 1px solid transparent;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            position: relative;
            overflow: hidden;
        }
        .icon-box {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        .card h3 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-main);
            transition: color 0.3s ease;
        }
        .card p {
            font-size: 0.85rem;
            color: #888;
            line-height: 1.5;
            transition: color 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px) scale(1.02);
            background-color: var(--hover-bg);
            box-shadow: 0 15px 30px rgba(67, 97, 238, 0.15);
            border-color: rgba(67, 97, 238, 0.1);
        }
        .card:hover h3 { color: var(--accent-blue); }
        .card:hover .icon-box { transform: scale(1.1) rotate(5deg); }
        .card.is-disabled {
            cursor: default;
            opacity: 0.85;
        }
        .card.is-disabled:hover {
            transform: none;
            background-color: var(--card-bg);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
            border-color: transparent;
        }
        .card.is-disabled:hover h3 { color: var(--text-main); }
        .card.is-disabled:hover .icon-box { transform: none; }
        .type-green .icon-box { background: #e0f7ea; color: #00c853; }
        .type-orange .icon-box { background: #fff3e0; color: #ff9800; }
        .type-blue .icon-box { background: #e3f2fd; color: #2196f3; }
        .type-purple .icon-box { background: #f3e5f5; color: #9c27b0; }
        .type-red .icon-box { background: #ffebee; color: #f44336; }
        footer {
            background: #1a1a2e;
            color: #fff;
            text-align: center;
            padding: 30px;
            margin-top: auto;
            font-size: 0.9rem;
        }
        footer a { color: #4361ee; text-decoration: none; }
    </style>
</head>
<body>
    <header>
        <div class="auth-bar">
            {% if user.is_authenticated %}
                <span>欢迎, {{ user.username }}</span>
                <form action="{% url 'logout' %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" style="background:none;border:none;color:var(--accent-blue);font-weight:600;cursor:pointer;">退出</button>
                </form>
            {% else %}
                <a href="{% url 'login' %}">登录</a>
                <a href="{% url 'register' %}">注册</a>
            {% endif %}
        </div>
        <div class="logo-area">
            <h1>Dispersion-Inclusive Surface Chemistry Optimizer</h1>
            <span>(DISCO)</span>
        </div>
        <p class="description">
            Dispersion-Inclusive Surface Chemistry Optimizer (DISCO) 面向表面化学与催化的数字科研平台，
            集成基于AnythingLLM的数据库大模型、高通量计算与机器学习预测能力，并持续推进机器学习势函数与分子电子学方向。
        </p>
        <p class="doc-link">
            <a href="http://docs.discoplatform.cn" target="_blank" rel="noopener">查看使用手册</a>
        </p>
    </header>

    <div class="container">
        <div class="grid-wrapper">
            <!-- 模块 1: 基于AnythingLLM的数据库大模型 -->
            <a href="{% if user.is_authenticated %}http://discoplatform.cn:3001/{% else %}{% url 'login' %}{% endif %}" class="card type-green" target="_blank" {% if not user.is_authenticated %}title="请先登录"{% endif %}>
                <div class="icon-box">
                    <i class="fa-solid fa-database"></i>
                </div>
                <h3>基于AnythingLLM的数据库大模型</h3>
                <p>
                    合成氨、ORR、OER、稀土催化等RAG知识库，包含20000+文献；支持MCP工具绘制元素与性能分布。
                </p>
            </a>

            <!-- 模块 2: 高通量计算 -->
            <a href="{% if user.is_authenticated %}/htc/{% else %}{% url 'login' %}{% endif %}" class="card type-orange" target="_blank" {% if not user.is_authenticated %}title="请先登录"{% endif %}>
                <div class="icon-box">
                    <i class="fa-solid fa-layer-group"></i>
                </div>
                <h3>高通量计算</h3>
                <p>
                    支持VASP/FHI-aims高通量计算(机器学习势加速).<br>
                    支持vdW-surf, MBD-e计算范德华相互作用<br>
                    支持吸附位点枚举, minia hopping算法吸附构型探索
                </p>
            </a>

            <!-- 模块 3: DISCOpilot -->
            <a href="{% if user.is_authenticated %}/DISCOpilot/{% else %}{% url 'login' %}{% endif %}" class="card type-red" target="_blank" {% if not user.is_authenticated %}title="请先登录"{% endif %}>
                <div class="icon-box">
                    <i class="fa-solid fa-atom"></i>
                </div>
                <h3>DISCOpilot</h3>
                <p>
                    自动化执行表界面建模计算任务，支持 FHI-aims、机器学习势加速。
                </p>
            </a>

            <!-- 模块 4: 机器学习预测 -->
            <a href="{% if user.is_authenticated %}/ml/{% else %}{% url 'login' %}{% endif %}" class="card type-blue" target="_blank" {% if not user.is_authenticated %}title="请先登录"{% endif %}>
                <div class="icon-box">
                    <i class="fa-solid fa-robot"></i>
                </div>
                <h3>机器学习预测</h3>
                <p>
                    特征工程+传统模型+K折交叉验证<br>
                    图神经网络+TPE超参数优化<br>
                    端到端模型训练
                </p>
            </a>

            <!-- 模块 5: 机器学习势函数（开发中） -->
            <div class="card type-purple is-disabled" title="开发中">
                <div class="icon-box">
                    <i class="fa-solid fa-wave-square"></i>
                </div>
                <h3>机器学习势函数（开发中）</h3>
                <p>
                    CISS半随机采样<br>
                    包含色散的机器学习势框架
                </p>
            </div>

            
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Dispersion-Inclusive Surface Chemistry Optimizer (DISCO). All rights reserved.</p>
        <p style="margin-top: 5px; opacity: 0.7; font-size: 0.8rem;">
            Website Developer: Dr. Yiyan Zhu | Email: zhuyiyan@ciac.ac.cn. Please contact us if you have any issues.
            Affiliation: Changchun Institute of Applied Chemistry, Chinese Academy of Sciences (CIAC)
        </p>
        <p style="margin-top: 8px; opacity: 0.7; font-size: 0.8rem;">
            <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">苏ICP备2026002573号-1</a>
        </p>
    </footer>
</body>
</html>
